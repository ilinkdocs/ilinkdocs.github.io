"use strict";(self.webpackChunkilink=self.webpackChunkilink||[]).push([[573],{566:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/20210417-111632-7d680ad6761f7607defd035c24e6cf22.png"},1795:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/20210417-111219-88f2f19a5ac787cdbef244dc05f8fb28.png"},1831:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/20210415-103711-9bb262490b5fe4a378b8e4edde60ea70.png"},6367:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"integrations/api/specification","title":"Technical Specification","description":"Swagger Documentation","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/integrations/api/specification.md","sourceDirName":"integrations/api","slug":"/integrations/api/specification","permalink":"/en/docs/integrations/api/specification","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"ilinkSidebar","previous":{"title":"Introduction to the REST API","permalink":"/en/docs/integrations/api/scope"},"next":{"title":"Issuing documents","permalink":"/en/docs/integrations/api/issued"}}');var s=t(4848),r=t(8453);const a={},o="Technical Specification",c={},l=[{value:"Swagger Documentation",id:"swagger-documentation",level:2},{value:"Authorisation",id:"authorisation",level:2},{value:"Authentication",id:"autentica\xe7\xe3o",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"technical-specification",children:"Technical Specification"})}),"\n",(0,s.jsx)(n.h2,{id:"swagger-documentation",children:"Swagger Documentation"}),"\n",(0,s.jsxs)(n.p,{children:["ilink uses an OpenAPI 3 specification with a Swagger client, available ",(0,s.jsx)(n.a,{href:"https://ilink.acin.pt/swagger-ui/dist/index.html",children:"here"}),". In this web customer, you can perform test API calls, analyse the responses, and verify the data to be sent for each endpoint/method."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The Swagger client provided above should be used throughout your development process."})," It is also possible to check how API calls are constructed via ",(0,s.jsx)(n.a,{href:"https://curl.se/",children:"cURL"})," (see example below):"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img info",src:t(1795).A+"",width:"1400",height:"539"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Several ",(0,s.jsx)(n.a,{href:"https://ilink.acin.pt/resources/clients.zip",children:"HTTP clients,"})," are also provided in over 50 languages and frameworks, automatically generated from our specification, which can serve as initial support for your integration process."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"authorisation",children:"Authorisation"}),"\n",(0,s.jsx)(n.p,{children:"All requests to the API must include the following authorisation header:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authorization"}),": Bearer {TOKEN_PLATAFORMA}"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.a,{href:"https://ilink.acin.pt/swagger-ui/dist/index.html#/",children:"Swagger"})," client, the authorisation process is performed by entering the platform token after clicking the ",(0,s.jsx)(n.strong,{children:"Authorize"})," button."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img info",src:t(8629).A+"",width:"1132",height:"384"})}),"\n",(0,s.jsxs)(n.p,{children:["After this step, note that all subsequent API requests include the ",(0,s.jsx)(n.em,{children:"Authorization"})," header:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img info",src:t(566).A+"",width:"1402",height:"204"})}),"\n",(0,s.jsx)(n.h2,{id:"autentica\xe7\xe3o",children:"Authentication"}),"\n",(0,s.jsxs)(n.p,{children:["Before making the first API call to ilink, ",(0,s.jsx)(n.strong,{children:"authentication per customer/TIN is required"}),". This authentication serves as an initial ",(0,s.jsx)(n.em,{children:"handshake"})," between the customer and ilink and is performed via the endpoint ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://ilink.acin.pt/swagger-ui/dist/index.html#/Autentica%C3%A7%C3%A3o/postAuthentications",children:"POST /apps/authentications"})}),":"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img info",src:t(8278).A+"",width:"1485",height:"510"})}),"\n",(0,s.jsx)(n.p,{children:"A valid authentication should return this response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'HTTP status: 200 OK\r\n\r\n{\r\n  "success": true,\r\n  "message": {\r\n    "code":"e123",\r\n    "msg":"Integration completed successfully."\r\n  }\r\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Authentication is valid indefinitely (only needs to be invoked once per customer/TIN accessing the API). It can also be revoked using the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://ilink.acin.pt/swagger-ui/dist/index.html#/Autentica%C3%A7%C3%A3o/deleteAuthentications",children:"DELETE /apps/authentications"})})," method:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img info",src:t(1831).A+"",width:"1495",height:"328"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"If authentication is not completed, or the Authorization header is not sent in API requests, all calls will be rejected for that customer/TIN with the following error"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'HTTP status: 401 Unauthorized\r\n\r\n{\r\n  "success": false,\r\n  "errors": [\r\n    {\r\n      "code": "e069",\r\n      "msg": "Invalid authentication"\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Note: In production, each customer/TIN must authenticate again."})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8278:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/20210415-103008-471d454f32df88fc66d0645e76b47275.png"},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},8629:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/20210415-103308-1912980fe8ad281c1559aadfa9901e69.png"}}]);