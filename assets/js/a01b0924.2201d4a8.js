"use strict";(self.webpackChunkilink=self.webpackChunkilink||[]).push([[790],{2112:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>r,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"integrations/webhooks/intro","title":"Introdu\xe7\xe3o aos Webhooks","description":"\xc2mbito","source":"@site/docs/integrations/webhooks/intro.md","sourceDirName":"integrations/webhooks","slug":"/integrations/webhooks/intro","permalink":"/docs/integrations/webhooks/intro","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"ilinkSidebar","previous":{"title":"Checklist pr\xe9-produ\xe7\xe3o","permalink":"/docs/integrations/api/checklist"},"next":{"title":"Considera\xe7\xf5es de seguran\xe7a","permalink":"/docs/integrations/webhooks/security"}}');var i=n(4848),t=n(8453);const a={},r="Introdu\xe7\xe3o aos Webhooks",d={},c=[{value:"\xc2mbito",id:"\xe2mbito",level:2},{value:"Pol\xedtica de reenvio (Retry Policy)",id:"pol\xedtica-de-reenvio-retry-policy",level:2}];function l(e){const o={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"introdu\xe7\xe3o-aos-webhooks",children:"Introdu\xe7\xe3o aos Webhooks"})}),"\n",(0,i.jsx)(o.h2,{id:"\xe2mbito",children:"\xc2mbito"}),"\n",(0,i.jsx)(o.p,{children:"Neste modelo de comunica\xe7\xe3o, o ilink toma a iniciativa de comunicar ao ERP no momento que um determinado evento ocorre, dispensando de consultas frequentes ao nosso API."}),"\n",(0,i.jsx)(o.p,{children:"O ilink disponibiliza 2 webhooks:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"Webhook de novo documento"})," - enviado ao receptor cada vez que um novo documento lhe \xe9 encaminhado"]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"Webhook de mudan\xe7a de estado de documento"})," - enviado ao emissor cada vez que um documento previamente emitido altera o seu estado"]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"Para qualquer dos webhooks acima funcionar \xe9 necess\xe1rio:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Implementar um endpoint Web, ",(0,i.jsx)(o.strong,{children:"dispon\xedvel publicamente aos servidores do ilink"}),", ao qual o ilink ir\xe1 comunicar via ",(0,i.jsx)(o.strong,{children:"HTTP"}),". Os dados enviados do ilink para este URL p\xfablico est\xe3o de acordo com o ",(0,i.jsx)(o.a,{href:"types",children:"tipo de webhook"})," que pretendem implementar."]}),"\n",(0,i.jsxs)(o.li,{children:["Comunicar \xe0 equipa do ilink que pretendem implementar o Webhook espec\xedfico para o vosso cliente, e indicar-nos uma ",(0,i.jsx)(o.strong,{children:"chave de acesso"})," e o ",(0,i.jsx)(o.strong,{children:"URL p\xfablico"})," do vosso endpoint."]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["Este m\xe9todo, apesar de implementa\xe7\xe3o mais extensa, tem a vantagem de evitar ",(0,i.jsx)(o.a,{href:"https://en.wikipedia.org/wiki/Polling_%28computer_science%29",children:"polling"})," constante aos nossos servidores, consumir menos recursos em ambos os sistemas, e permite aceder a toda a informa\xe7\xe3o em tempo real. S\xf3 recomendamos optar pela consulta manual caso existam ",(0,i.jsx)(o.a,{href:"security",children:"implica\xe7\xf5es de seguran\xe7a na abordagem dos Webhooks"}),"."]}),"\n",(0,i.jsx)(o.h2,{id:"pol\xedtica-de-reenvio-retry-policy",children:"Pol\xedtica de reenvio (Retry Policy)"}),"\n",(0,i.jsxs)(o.p,{children:["Um webhook \xe9 considerado entregue com sucesso ao ERP quando a sua resposta retorna um ",(0,i.jsx)(o.strong,{children:"HTTP status code 200"})," (independentemente do conte\xfado da resposta). Recomendamos evitar processamentos longos no endpoint de resposta sob pena da liga\xe7\xe3o ser cancelada antes do processamento estar conclu\xeddo."]}),"\n",(0,i.jsxs)(o.p,{children:["Caso falhe o processo de comunica\xe7\xe3o, o ilink ir\xe1 tentar comunicar novamente ",(0,i.jsx)(o.strong,{children:"at\xe9 10 vezes nos pr\xf3ximos 7 dias"}),", com intervalos incrementalmente maiores por cada tentativa. Ap\xf3s 10 tentativas comunica\xe7\xe3o falhadas, o ilink ir\xe1 desistir de comunicar essa informa\xe7\xe3o ao ERP."]}),"\n",(0,i.jsxs)(o.table,{children:[(0,i.jsx)(o.thead,{children:(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.th,{children:"N\xfamero de tentativa"}),(0,i.jsx)(o.th,{children:"Tempo at\xe9 a pr\xf3xima tentativa"})]})}),(0,i.jsxs)(o.tbody,{children:[(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:"1 a 2"}),(0,i.jsx)(o.td,{children:"4 horas"})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:"3 a 5"}),(0,i.jsx)(o.td,{children:"5 horas"})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:"6 a 9"}),(0,i.jsx)(o.td,{children:"12 horas"})]})]})]})]})}function m(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>a,x:()=>r});var s=n(6540);const i={},t=s.createContext(i);function a(e){const o=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:o},e.children)}}}]);